apiVersion: org.eclipse.che/v2
kind: CheCluster
metadata:
  name: che-cluster
  namespace: devspaces
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
    argocd.argoproj.io/sync-wave: "2"
spec:
  components:
    imagePuller:
      enable: true
      spec:
        images: >-
          workshop-image=quay.io/agiertli/workshop-udi@sha256:a30632d511e022896c9a433c03c2b535696619fa18396a8e219ea567eacbea3e
    devWorkspace:
      runningLimit: '61'
    cheServer:
      debug: false
      logLevel: INFO
    metrics:
      enable: true
    pluginRegistry:
     openVSXURL: "https://open-vsx.org"
  containerRegistry: {}
  devEnvironments:
    disableContainerBuildCapabilities: false
    gatewayContainer:
      resources:
        limits:
          cpu: "4"
          memory: 5Gi
        request:
          cpu: "1"
          memory: 1Gi  
    secondsOfRunBeforeIdling: -1
    startTimeoutSeconds: 1200
    defaultNamespace:
      template: <username>-dev
    secondsOfInactivityBeforeIdling: -1
    storage:
      perWorkspaceStrategyPvcConfig:
        claimSize: 10Gi
      pvcStrategy: per-workspace
  networking: {}
